{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="main-content">
    <div class="sidebar">
        <form method="GET" onsubmit="event.preventDefault(); window.location.href='?q=' + encodeURIComponent(this.q.value);">
            <input type="text" name="q" placeholder="Query..." required>
        </form>

        <div id="color-filter" class="drag-drop-area">
            <p>Drag & Drop for: Color Filter</p>
            <img class="preview-image" src="" alt="Preview" style="display:none; max-width: 100%;">
        </div>

        <div id="embedding-filter" class="drag-drop-area">
            <p>Drag & Drop for: Embedding Filter</p>
            <img class="preview-image" src="" alt="Preview" style="display:none;">
        </div>

        <div id="object-filter" class="drag-drop-area">
            <p>Drag & Drop for: Object Filter</p>
            <img class="preview-image" src="" alt="Preview" style="display:none;">
        </div>
    </div>

    <div class="clips">
        {% if query %}
        <h2>Results for "{{ query }}":</h2>
        <div id="progressive-results" class="clip-grid"></div>
        <button id="load-more" style="margin-top:1rem;">Load More</button>
        {% else %}
        <p>Enter a query above to begin search.</p>
        {% endif %}
    </div>
</div>

<script src="{% static 'js/drag-images.js' %}"></script>
<script src="{% static 'js/color-filter.js' %}"></script>
{% endblock %}